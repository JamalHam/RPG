<!DOCTYPE html>

<html lang="en">
<head>
<meta name="viewport" content="initial-scale=1.0">
<meta charset="UTFÂ­8">
<title></title>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
<style>
	.title-div{
		width: 100%;
		padding: 100px;
		display: flex;
		justify-content: space-around;
		flex-wrap: wrap;
		margin: 0 auto;
	}
	
	.pick-container{
		display: flex;
		justify-content: space-around;
		flex-wrap: wrap;
		max-width: 60%;
		margin: 0 auto;
		
	}
	
	.pick-style{
		background-color: aqua;
		height: 100px;
		width: 100px;
		
	}
	.button-holder{
		width: 100%;
		padding: 100px;
		display: flex;
		justify-content: space-around;
		flex-wrap: wrap;
		margin: 0 auto;
	}
    
    .fight{
        display: flex;
		justify-content: space-around;
		flex-wrap: wrap;
		max-width: 60%;
		margin: 100px 0;
        height 125px;
    }
	.combat-div{
		display: flex;
		justify-content: space-around;
		flex-wrap: wrap;
		max-width: 60%;
		margin: 0 auto;
	}
    .all-health{
        width: 100%;
        display: flex;
        justify-content: space-around;
        margin: 0 auto;
    }
    .my-health{
        width: 50%;
        background-color: aliceblue;
    }
    .opponent-health{
        width: 50%;
        background-color: antiquewhite;
    }
    .mHealthText{
        color: blue;
    }
    .oHealthText{
        color: red;
    }
</style>	
	
</head>
<body>
    
    <div class="title-div"><h1 id="instructions">Choose your Character</h1></div>
	<div class="pick-container">
		
		
		<div id="one" class="pick pick-style">
			<h2>Option One</h2>
		</div>
		<div id="two" class="pick pick-style">
			<h2>Option Two</h2>
		</div>
		<div id="three" class="pick pick-style">
			<h2>Option Three</h2>
		</div>
	</div>
	<div class="fight"></div>
	<div class="combat-div"></div>

	<div class="button-holder"><button id="attack" value="attack">Attack</button></div>
    <div class="all-health">
    <div class="my-health"><h1 class="mHealthText"></h1></div>
    <div class="opponent-health"><h1 class="oHealthText"></h1></div>
    </div>
	 
<script type="text/javascript">

$(document).ready(function() {
    
	var playerChar;
		
	var playerOne = {
		Health: 300,
		Attack: 100,
	}
	
	var playerTwo = {
		Health: 200,
		Attack: 35,
	}
	
	var playerThree = {
		Health: 75,
		Attack: 100,
	}
	
    var contender;
	
	$('.pick').click(function(){
		if ($('.pick-container').children().length > 1){
        
		$('#instructions').empty;
		$('#instructions').text("choose your first opponent");
		
		if($(this).attr('id') == "one"){
		
			playerChar = playerOne;
			
			$('#two').appendTo('.combat-div');
			
			$('#three').appendTo('.combat-div');
            
            $('#two').removeClass("pick");
            
            $('#three').removeClass('pick');
			
		}
		if($(this).attr('id') == "two"){
			
			playerChar = playerTwo;
			
			$('#one').appendTo('.combat-div');
			
			$('#three').appendTo('.combat-div');
            
            $('#one').removeClass('pick');
            
            $('#three').removeClass('pick');
		}
		if($(this).attr('id') == "three"){
			
			playerChar = playerThree;
			
			$('#one').appendTo('.combat-div');
			
			$('#two').appendTo('.combat-div');
            
            $('#one').removeClass('pick');
            
            $('#two').removeClass('pick');
            
		}
            
        $('.combat-div').children().addClass("combatents");
            
        }
    
        
	});
    
     $(document).on('click','.combatents',function () {

        if ($('.combat-div').children().length > 1){
            
            if($(this).attr('id') == "one"){
                
                $('#one').appendTo('.fight');
                
            }
            if($(this).attr('id') == "two"){
                
                $('#two').appendTo('.fight');  
                
        }
            if($(this).attr('id') == "three"){
                
                $('#three').appendTo('.fight');
                
            }
            
            $('#instructions').empty;
		    $('#instructions').text("Fight!!!!!!");
            
            contender = $(".fight .combatents");
            
        }
		 if ($('.pick-container').children().length == 1 && $('.fight').children().length == 0 && $('.combat-div').children().length == 1){
            
            if($(this).attr('id') == "one"){
                
                $('#one').appendTo('.fight');
                
            }
            if($(this).attr('id') == "two"){
                
                $('#two').appendTo('.fight');  
                
        }
            if($(this).attr('id') == "three"){
                
                $('#three').appendTo('.fight');
                
            }
            
            $('#instructions').empty;
		    $('#instructions').text("Fight!!!!!!");
            
            contender = $(".fight .combatents");
            
        }
    });
    
    //setInterval(function(){ console.log(contender.attr('id')); }, 3000);
    //setInterval(function(){ console.log($('#two').attr('id')); }, 3000);
    $(document).on('click','#attack',function () {
        if($('.pick-container').children().length == 1 && $('.fight').children().length == 1 && $('.combat-div').children().length == 1){
            	
            if(contender.attr('id') == "one"){
            
                if(playerChar.Health > 0 && playerOne.Health > 0){
                    playerOne.Health = playerOne.Health - playerChar.Attack;
                    playerChar.Health = playerChar.Health - playerOne.Attack;
                    
                    $('.mHealthText').empty;
                    $('.mHealthText').text(playerChar.Health);
                    
                    $('.oHealthText').empty;
                    $('.oHealthText').text(playerOne.Health);
                    
                }else if(playerChar.Health > 0 && playerOne.Health <= 0){
                /*new function goes here*/
                    quickClear();
                }else{ 
                    alert("you lose")
                     }
            }
            if(contender.attr('id') == "two"){
            
                if(playerChar.Health > 0 && playerTwo.Health > 0){
                    playerTwo.Health = playerTwo.Health - playerChar.Attack;
                    playerChar.Health = playerChar.Health - playerTwo.Attack;
                    
                    $('.mHealthText').empty;
                    $('.mHealthText').text(playerChar.Health);
                    
                    $('.oHealthText').empty;
                    $('.oHealthText').text(playerTwo.Health);
                    
                }else if(playerChar.Health > 0 && playerTwo.Health <= 0){
                /*new function goes here*/
                    quickClear();
                }else{ 
                    alert("you lose")
                     }
            }
            if(contender.attr('id') == "three"){
            
                if(playerChar.Health > 0 && playerThree.Health > 0){
                    playerThree.Health = playerThree.Health - playerChar.Attack;
                    playerChar.Health = playerChar.Health - playerThree.Attack;
                    
                    $('.mHealthText').empty;
                    $('.mHealthText').text(playerChar.Health);
                    
                    $('.oHealthText').empty;
                    $('.oHealthText').text(playerThree.Health);
                    
                }else if(playerChar.Health > 0 && playerThree.Health <= 0){
                /*new function goes here*/
                    quickClear();
                }else{ 
                    alert("you lose")
                     }
            }
		}
		if($('.pick-container').children().length == 1 && $('.fight').children().length == 1 && $('.combat-div').children().length == 0){
			if(contender.attr('id') == "one"){
            
                if(playerChar.Health > 0 && playerOne.Health > 0){
                    playerOne.Health = playerOne.Health - playerChar.Attack;
                    playerChar.Health = playerChar.Health - playerOne.Attack;
                    
                    $('.mHealthText').empty;
                    $('.mHealthText').text(playerChar.Health);
                    
                    $('.oHealthText').empty;
                    $('.oHealthText').text(playerOne.Health);
                    
                }else if(playerChar.Health > 0 && playerOne.Health <= 0){
                /*new function goes here*/
                    finalClear();
                }else{ 
                    alert("you lose")
                     }
            }
            if(contender.attr('id') == "two"){
            
                if(playerChar.Health > 0 && playerTwo.Health > 0){
                    playerTwo.Health = playerTwo.Health - playerChar.Attack;
                    playerChar.Health = playerChar.Health - playerTwo.Attack;
                    
                    $('.mHealthText').empty;
                    $('.mHealthText').text(playerChar.Health);
                    
                    $('.oHealthText').empty;
                    $('.oHealthText').text(playerTwo.Health);
                    
                }else if(playerChar.Health > 0 && playerTwo.Health <= 0){
                /*new function goes here*/
                    finalClear();
                }else{ 
                    alert("you lose")
                     }
            }
            if(contender.attr('id') == "three"){
            
                if(playerChar.Health > 0 && playerThree.Health > 0){
                    playerThree.Health = playerThree.Health - playerChar.Attack;
                    playerChar.Health = playerChar.Health - playerThree.Attack;
                    
                    $('.mHealthText').empty;
                    $('.mHealthText').text(playerChar.Health);
                    
                    $('.oHealthText').empty;
                    $('.oHealthText').text(playerThree.Health);
                    
                }else if(playerChar.Health > 0 && playerThree.Health <= 0){
                /*new function goes here*/
                    finalClear();
                }else{ 
                    alert("you lose")
                     }
            }
		}
    });
    //setInterval(function(){ console.log(playerChar); }, 3000);

    function quickClear(){
        alert("you won the first match");
        $('.fight').html("");
        $('#instructions').empty;
        $('#instructions').text("Choose your Next Victim");
    };
	
function finalClear(){
        alert("you won the Tournament");
        $('.fight').html("");
		$('.mHealthText').html("");
		$('.oHealthText').html("");
        $('#instructions').empty;
        $('#instructions').text("Unleash your chaos on the world!!!");
    };
	
});
</script>
</body>
</html>